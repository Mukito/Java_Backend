1
00:00:01,590 --> 00:00:11,610
Beleza galera nós criamos aqui o primeiro teste usando usando um mote me vc tá mas aqui a gente criou

2
00:00:12,060 --> 00:00:16,510
o produto controle que a gente não botou o serviço não botou nada.

3
00:00:16,680 --> 00:00:22,740
Vamos simular que a gente vai terminar esse controle daqui obter todos primeiro e aí depois a gente

4
00:00:22,740 --> 00:00:24,150
faz com os demais.

5
00:00:24,150 --> 00:00:27,540
Então vamos lá eu vou vir aqui no.

6
00:00:30,830 --> 00:00:38,510
No meu projeto dentro de séries eu vou que não serve aqui é bem simples só pra gente boca tá.

7
00:00:38,820 --> 00:00:44,420
Vou chamar isso aqui de produto serviço e ponto Java.

8
00:00:45,910 --> 00:00:53,380
Que esse cara que vai fazer esse cara aqui vai ser um cara que vai simular a conexão eu até apontar

9
00:00:53,390 --> 00:01:00,830
que um a CBN que publicaria com o repositório mas aí eu um caso que eu não vou nem criar repositório.

10
00:01:00,860 --> 00:01:05,510
Eu vou só botar o Serra porque a gente vai cair ele também tá bom.

11
00:01:06,080 --> 00:01:11,420
A lógica aqui não vai ser eu testar o recurso de ponta a ponta e testar desde o controle passando pelo

12
00:01:11,420 --> 00:01:12,390
serviço.

13
00:01:12,440 --> 00:01:19,280
Não eu quero testar simplesmente o controle e se ele está me retornando do jeito que precisaria mesmo

14
00:01:19,880 --> 00:01:21,020
depois de pronto.

15
00:01:21,050 --> 00:01:28,400
Então eu vou simplesmente criar um público aqui que vai me retornar um teste de boas práticas de uma

16
00:01:28,400 --> 00:01:36,050
coisa que tem que no controle ser praticamente a mesma coisa que tem aquele esse cara que vou levar

17
00:01:36,050 --> 00:01:36,830
para cá.

18
00:01:37,670 --> 00:01:44,270
Só que em vez de me retornar um Response ente ele não sabe quem devolver uma lista de produtos que dão

19
00:01:44,300 --> 00:01:44,870
um controle.

20
00:01:46,980 --> 00:01:51,090
Via o contraponto para poder importar não importando aqui eis.

21
00:01:54,440 --> 00:02:02,000
Outro ponto para poder importar as dependências é que retorna quem retorna produtos como o canto da

22
00:02:02,000 --> 00:02:08,390
galera como se eu estivesse indo lá no banco de dados buscando mandando um repositório para alguma coisa

23
00:02:08,750 --> 00:02:12,890
só pra gente ver como é que sei que funcionaria.

24
00:02:12,920 --> 00:02:18,260
Então vou criar esse cara aqui vou também criar e de adicionar que a gente já criou de adicionar também

25
00:02:18,320 --> 00:02:20,110
na tela de bloqueio a esses três aqui.

26
00:02:21,320 --> 00:02:27,440
O Vivo cresce três metros aqui como se eu estivesse criando a vera mesmo após o show.

27
00:02:27,800 --> 00:02:30,650
Estou aproveitando o código aqui só pra poder ficar fácil.

28
00:02:33,210 --> 00:02:36,320
Não Tem Preço que variem aqui ele só recebe um long.

29
00:02:36,330 --> 00:02:38,910
Beleza não tem isso.

30
00:02:39,090 --> 00:02:49,290
é que ele vai importar quem o Option já viu a última beleza e aqui ele vai retornar um produto simplesmente

31
00:02:49,290 --> 00:02:51,900
sobre ter proibido o produto.

32
00:02:52,050 --> 00:02:56,340
Esse cara aqui também vai me adicionando para me devolver o produto a qual ele cadastrou.

33
00:02:57,940 --> 00:03:00,700
Eu simplesmente vou vir aqui vou retornar o mesmo produto.

34
00:03:02,510 --> 00:03:03,140
SHOW DE BOLA.

35
00:03:05,630 --> 00:03:11,640
A lógica como que o serviço vai mandar você vai mandar para o repositório chuva dá erro ou não.

36
00:03:11,690 --> 00:03:13,460
Aí não importa para a gente.

37
00:03:13,460 --> 00:03:22,430
De início fiquei três meses sem obter todos obter Freud obter por aí e adicionar perceba que eu não

38
00:03:22,430 --> 00:03:23,630
estou fazendo nada demais.

39
00:03:23,990 --> 00:03:28,620
Só estou criando uma lista retornando ela não objetivo onde eu estou pegando.

40
00:03:28,670 --> 00:03:31,820
é a lógica do teste entrada no controle.

41
00:03:33,800 --> 00:03:39,060
Antes antes de eu mexer no controle vamos rodar o teste de controle e ver se ele continua passando e

42
00:03:39,080 --> 00:03:40,250
só vou rodar.

43
00:03:40,280 --> 00:03:42,580
Ele tem que continuar passando porque estava retornando ok.

44
00:03:52,520 --> 00:03:57,330
Passou continua funcionando completou perfeito.

45
00:03:57,380 --> 00:04:00,840
O que vão fazer eu vou vir aqui agora no meu controle.

46
00:04:00,850 --> 00:04:03,730
Eu vou importar o meu serviço então vou botar pra ver.

47
00:04:05,570 --> 00:04:09,070
Na verdade eu vou botar pra frente e lutar.

48
00:04:12,690 --> 00:04:13,250
Private.

49
00:04:14,690 --> 00:04:15,590
E bate nele.

50
00:04:19,700 --> 00:04:20,240
Larga.

51
00:04:23,010 --> 00:04:23,820
Private.

52
00:04:29,950 --> 00:04:38,910
Produto presente produto serviço que eu vou chamar de produto serviço ok para usar esse cara que a gente

53
00:04:38,910 --> 00:04:40,390
sempre usa o alto ou área de.

54
00:04:42,380 --> 00:04:47,400
Beleza tudo tudo certinho e aqui dentro.

55
00:04:47,400 --> 00:04:50,900
O que eu faria aqui eu viria aqui em vez de criar uma lista.

56
00:04:50,930 --> 00:04:56,290
Eu simplesmente chamaria obter todos do meu produto séries.

57
00:04:56,390 --> 00:04:57,270
Só isso.

58
00:04:57,770 --> 00:05:01,010
Mudei a lógica tá aqui.

59
00:05:01,130 --> 00:05:10,280
Em vez de retornar um adicional de produto eu chamaria produtos séries ponto adicionar passando o produto

60
00:05:10,280 --> 00:05:18,770
que está vindo aqui esse adicionar que ele tem que devolver um opte não chover ou adicionado não adicionando

61
00:05:18,770 --> 00:05:20,780
devolveu opcionalmente um produto.

62
00:05:23,640 --> 00:05:24,390
São um produto.

63
00:05:25,910 --> 00:05:31,730
Teve um produto não deve haver óptima beleza aqui o.

64
00:05:32,810 --> 00:05:33,840
Tudo funcionando.

65
00:05:33,860 --> 00:05:37,490
E aqui adicionar ou adicionar.

66
00:05:37,490 --> 00:05:42,460
E eu não estou fazendo besteira por aí mexendo no cara errado.

67
00:05:42,650 --> 00:05:43,760
Esse aqui é o obter por aí.

68
00:05:43,820 --> 00:05:47,990
Então seria produto ponto obter por aí.

69
00:05:48,170 --> 00:05:52,200
Agora sim ele devolve um opcional e aí eu devolvo ótimo.

70
00:05:52,220 --> 00:05:59,420
Então optei por pedir a pronto pegando de produto serviço para obter moradia.

71
00:05:59,450 --> 00:06:02,760
A única coisa que eu tirei foi para ele pegando o produto certo.

72
00:06:03,050 --> 00:06:07,360
é esse cara que em vez de só retorna um produto que eu vou fazer.

73
00:06:07,360 --> 00:06:18,230
Então vou criar aqui um cara que eu poderia fazer o produto serviço ponto a adicionar passando o produto.

74
00:06:18,230 --> 00:06:24,020
Esse cara iria adicionar ia me devolver o produto que eu já devolvo esse cara aqui direto aqui na requisição.

75
00:06:24,530 --> 00:06:31,700
Algo bem bem simples nada demais ou se você achar que isso daqui é ruim de entender e de ler você pode

76
00:06:31,700 --> 00:06:40,160
tirar daqui pode chamar seu cadastrado cadastrado é aí que eu poderia fazer algo tipo assim o produto

77
00:06:40,160 --> 00:06:47,530
que eu vou chamar de cadastrado recebe sei que ela mandaria adicionar se ele conseguiu ele traz como

78
00:06:47,960 --> 00:06:55,460
cadastrado ou adicionado vou chamar de adicionado para o método adicionar adicionado e aí ele já devolve

79
00:06:55,550 --> 00:06:56,340
esse cara.

80
00:06:56,480 --> 00:07:03,170
Beleza a única coisa que eu fiz foi pegar o meu controle e mudar para começar a trabalhar com o serviço.

81
00:07:03,500 --> 00:07:08,990
Nada demais é um controle que vai trabalhar com certeza que eu vou fazer agora.

82
00:07:09,030 --> 00:07:12,080
Bombeiro no meu teste vou mandar rodar de novo.

83
00:07:19,430 --> 00:07:22,100
Madonna e deu erro.

84
00:07:22,100 --> 00:07:25,000
Olha só por que deu erro.

85
00:07:25,220 --> 00:07:26,090
Ele deu um erro.

86
00:07:26,090 --> 00:07:31,880
Se a gente for parar para ler essa estética aqui vale passar esse erro todo aquele que ele mostrou aqui.

87
00:07:37,870 --> 00:07:40,660
Investida contra o Uber fica melhor.

88
00:07:44,380 --> 00:07:48,100
Se eu parar para ver isso daqui esse erro todo aqui.

89
00:07:48,190 --> 00:07:51,300
Se eu for ver essa estepe toda o que acontece.

90
00:07:51,520 --> 00:07:55,710
Ele está dando um erro que ele não conseguiu carregar o contexto.

91
00:07:55,720 --> 00:07:59,400
A falha no carregamento do Application context.

92
00:07:59,500 --> 00:08:05,650
Basicamente ele deu erro porque ele não conseguiu aqui dentro carregar esse cara que.

93
00:08:07,870 --> 00:08:10,600
Ele simplesmente não sabe quem é esse cara.

94
00:08:10,750 --> 00:08:13,420
Ele não sabe da forma como estamos fazendo.

95
00:08:13,420 --> 00:08:18,430
Ele não sabe quem é esse cara que ele não sabe o que eu vou fazer.

96
00:08:18,430 --> 00:08:20,430
Eu vou colocar esse cara aqui.

97
00:08:20,530 --> 00:08:21,590
Ou seja eu vou buscar.

98
00:08:21,610 --> 00:08:27,580
Eu vou fingir que eu tenho esse cara aqui em algum lugar e como que a gente pode fazer isso.

99
00:08:27,640 --> 00:08:27,910
Bom.

100
00:08:29,320 --> 00:08:31,280
A gente pode fazer isso da seguinte forma.

101
00:08:31,330 --> 00:08:39,410
A primeira coisa que a gente pode fazer é que no nosso teste nós vamos importar é esse.

102
00:08:40,080 --> 00:08:43,340
E se esse produto sentisse.

103
00:08:43,360 --> 00:08:47,380
Então vou importá lo aqui como é que eu posso fazer isso.

104
00:08:47,380 --> 00:08:53,260
Eu posso simplesmente criar um cara novo aqui que eu vou buscar esse cara aí a gente vai chamar ele

105
00:08:53,260 --> 00:08:59,770
de Mac Binho que vai cair então eu vou fazer o seguinte eu vou morar perto do controle vai ficar tudo

106
00:08:59,770 --> 00:09:00,560
parecido.

107
00:09:00,610 --> 00:09:06,220
Olha só Private eu vou montar o produto.

108
00:09:07,840 --> 00:09:11,840
Serve se eu vou chamar de produto serviço.

109
00:09:12,550 --> 00:09:19,990
E aí que eu vou botar uma anotação nele chamado arroba Mock o que que é isso com essa anotação aqui

110
00:09:20,020 --> 00:09:27,100
eu estou dizendo que o meu produto serve se será um bocado ou seja quando o controle é chamar esse cara

111
00:09:27,100 --> 00:09:29,880
eu vou escolher o que esse cara que vai devolver o controle.

112
00:09:29,890 --> 00:09:36,730
Ou seja eu buscando esse cara vou dizer exatamente o que isso vai devolver.

113
00:09:36,730 --> 00:09:37,910
Olha que legal.

114
00:09:38,050 --> 00:09:39,390
Muito massa né.

115
00:09:39,400 --> 00:09:41,340
Então vamos ver o que vai acontecer.

116
00:09:41,350 --> 00:09:44,520
Olha só vão vir aqui no meu controle.

117
00:09:44,620 --> 00:09:47,750
No meu teste ele deu erro.

118
00:09:47,890 --> 00:09:53,830
Então para que isso não dê mais erro eu tenho que o Boca esse cara eu como que o Moto é uma coisa ficar

119
00:09:53,830 --> 00:10:00,820
aqui no meu na minha preparação aqui eu estou criando a minha requisição o meu Mock e me vc reconhece

120
00:10:00,820 --> 00:10:08,710
Builder ou seja esse cara aqui é o meu objeto que sabe gerar requisição que está preparando a requisição

121
00:10:08,710 --> 00:10:13,900
é como se fosse o meu e só me estivesse com tudo ali preparado mas ainda não cliquem no botão de stand

122
00:10:14,800 --> 00:10:23,680
up o performer do Moto E vc é como se fosse o botão de Send send um via essa requisição que é como se

123
00:10:23,680 --> 00:10:30,140
fosse isso é o retorno de uma requisição a gente pega aqui nesse espectro foi o que a gente aprendeu.

124
00:10:30,220 --> 00:10:37,810
Beleza e como que agora eu posso mostrar esse cara que eu vou fazer o seguinte Aqui cima na preparação

125
00:10:37,900 --> 00:10:45,220
depois que eu crio o meu reconhece Bill Drake não meu meu mote Eu vou usa um método chamado O M o é.

126
00:10:45,460 --> 00:10:48,960
Ele é do nosso Mosquito.

127
00:10:49,180 --> 00:10:50,200
Cadê o carioca.

128
00:10:50,220 --> 00:10:53,160
Ué em Weymouth que tocaria.

129
00:10:55,030 --> 00:10:55,900
Acabei de adicionar.

130
00:11:00,090 --> 00:11:04,470
Ele vem do nosso órgão e ponto Mosquito ponto mosquito.

131
00:11:04,470 --> 00:11:06,000
O que é isso.

132
00:11:06,000 --> 00:11:12,690
é isso que a gente fala que a gente ia conhecer esse cara aqui ele sabe Moka alguma coisa.

133
00:11:12,690 --> 00:11:19,820
Então ele recebe um método que ele moca ou seja qualquer método que for chamado ele vai buscar pra gente.

134
00:11:19,920 --> 00:11:20,720
Ele vai montar.

135
00:11:21,210 --> 00:11:25,770
E como a gente vai fazer isso eu vou vir aqui e vou fazer o seguinte eu quero buscar esse cara como

136
00:11:25,770 --> 00:11:26,370
que eu vou fazer.

137
00:11:26,370 --> 00:11:34,800
Eu vou fazer o seguinte diz ponto produto CS Eu quero buscar quem do produto serviço eu quero montar

138
00:11:34,800 --> 00:11:39,540
o método obter todos.

139
00:11:39,540 --> 00:11:45,840
Quando o método obter todos do produto serve se for chamado eu quero que ele faça alguma coisa mas eu

140
00:11:45,840 --> 00:11:51,680
não vou chamar esse método aquilo teste em nenhum momento quem vai chamar vai ser o meu controle.

141
00:11:51,690 --> 00:11:58,920
Quando acontecer a requisição ele que vai chamar e obter todos é chamado por dentro do controle ou do

142
00:11:58,920 --> 00:12:01,640
método do controle obter todos acionados.

143
00:12:01,680 --> 00:12:07,920
Então é que eu estou te buscando tô dizendo o seguinte Olha quando o obter todos do meu produto serve

144
00:12:07,920 --> 00:12:13,710
se for chamado eu quero fazer o seguinte eu quero que ele faça o que ele tem um método chamado dentro

145
00:12:14,520 --> 00:12:15,050
dele.

146
00:12:15,090 --> 00:12:21,810
E aí eu posso retornar com erro e tornar uma chamada e eu tenho um cara que chamado tem retorno que

147
00:12:21,810 --> 00:12:26,240
retorna o seguinte ele retorna um valor.

148
00:12:26,250 --> 00:12:32,730
O que eu quero que ele retorne quando o método for chamado aí eu posso retornar qualquer coisa.

149
00:12:34,080 --> 00:12:39,460
No nosso caso aqui eu vou retornar uma lista de produtos.

150
00:12:39,570 --> 00:12:47,070
Olha só produtos uma lista de produtos eu espero.

151
00:12:47,070 --> 00:12:54,280
Eu espero que quando ele rodar esse código aqui o que eu estou tocando quando alguém chamar esse método

152
00:12:54,280 --> 00:13:01,390
é que ele me devolva uma lista de produtos lixo produtos fazia gol e olha que legal tomou quando.

153
00:13:01,390 --> 00:13:07,530
Então agora o meu controle vai saber fazer a requisição e quando meu controle precisar chamar o produto

154
00:13:07,530 --> 00:13:09,480
serve soube de todos.

155
00:13:09,480 --> 00:13:14,790
Esse cara aqui vai ser chamado vai ser executado e vou devolver essa lista de produtos daqui para dentro

156
00:13:14,790 --> 00:13:17,530
desse mote que a gente criou aqui.

157
00:13:18,720 --> 00:13:19,470
Vamos testar.

158
00:13:24,790 --> 00:13:26,400
Mandei rodar.

159
00:13:26,770 --> 00:13:27,580
Ele tem que passar.

160
00:13:30,720 --> 00:13:38,770
O passo significa que ele conseguiu montar com sucesso beleza então aqui eu estou fazendo um teste bem

161
00:13:38,770 --> 00:13:39,640
simples.

162
00:13:39,640 --> 00:13:48,390
Eu simplesmente Smokey o dado que está vindo e disse que ele vai vai vai retornar só pra ver que que

163
00:13:48,460 --> 00:13:49,440
vai falhar.

164
00:13:49,480 --> 00:13:53,600
Olha só dentro do meu produto serviço.

165
00:13:53,920 --> 00:13:58,450
Eu vou fazer o seguinte a produção é aqui no controle.

166
00:13:59,680 --> 00:14:07,180
Em vez de retornar à lista de produtos eu vou retornar sei lá eu vou retornar eu vou retornar.

167
00:14:12,420 --> 00:14:17,350
Não eu vou lançar uma exceção sobre o assunto.

168
00:14:30,290 --> 00:14:32,020
Lançou uma exceção aqui sei lá.

169
00:14:52,480 --> 00:14:54,920
Só para provar uma coisa que.

170
00:15:00,440 --> 00:15:06,200
Mas isso vai entrar aqui dentro e Citrus de sempre vai ser só pra sobre a história uma exceção aqui

171
00:15:06,320 --> 00:15:07,520
tá.

172
00:15:07,820 --> 00:15:09,850
Se der truque você sempre vai dar.

173
00:15:10,220 --> 00:15:14,150
Tem feito o som que você não precisava nem fazer isso poderia fazer esse direto.

174
00:15:14,150 --> 00:15:17,060
Só que ele vai ficar criticando esse retorno que eu teria que tirar o returno.

175
00:15:17,060 --> 00:15:21,190
Vou deixar de sobrar só pra ficar bonito Show.

176
00:15:21,470 --> 00:15:26,020
Eu quero que ele lance uma exceção ou seja esse método não retorna uma lista de produtos.

177
00:15:26,090 --> 00:15:28,130
Ouvir aqui vou dar um ou executar.

178
00:15:29,610 --> 00:15:31,060
O modelo lançou uma exceção.

179
00:15:38,830 --> 00:15:49,210
Deu erro por que deu erro porque lançou uma exceto olha só reconhece falhou falhado com uma exceção.

180
00:15:53,310 --> 00:16:00,590
A cadeia deixe a quinta este poder para o carinha.

181
00:16:04,270 --> 00:16:06,010
Aqui não.

182
00:16:06,040 --> 00:16:08,650
Aqui ele está mudando um dos outros casos heróis.

183
00:16:10,170 --> 00:16:11,000
Diminuir.

184
00:16:13,730 --> 00:16:16,100
Parar o mouse em cima ou para o mal de cima.

185
00:16:16,130 --> 00:16:17,200
Olha só.

186
00:16:17,360 --> 00:16:21,850
Ele me mostra exatamente o que aconteceu na seção deve retornar.

187
00:16:21,920 --> 00:16:24,500
Não sei o que se quer lá é que ele deu um erro.

188
00:16:24,710 --> 00:16:36,140
Se você olhar na tela isso nem é Java ponto leg e Ponto Certo um dos pontos deu ruim na segunda na segunda

189
00:16:36,140 --> 00:16:41,370
linha Li olhe o ponto Spring frame é o ponto e ponto útil ele é uma exceção do tipo deu ruim.

190
00:16:41,420 --> 00:16:50,060
Beleza significa lançou uma exceção ou seja ele nem chegou a bater aqui no meu moto lembra que eu disse

191
00:16:50,060 --> 00:16:54,350
que o meu moto vai retornar uma lista de produtos mas o meu controle falhou.

192
00:16:54,350 --> 00:17:01,760
Então significa que independente do meu moto e de produto serviço ou se o teste estiver com algum problema

193
00:17:01,760 --> 00:17:05,240
de retorno no controle ele vai falhar.

194
00:17:05,330 --> 00:17:12,110
Agora se não tiver nenhum problema no meu controle e ele só depender disso daqui sei lá para validar

195
00:17:12,110 --> 00:17:15,110
alguma coisa para retornar OK ou não.

196
00:17:15,110 --> 00:17:23,960
Aí ele vai passar salvei vou voltar aqui no teste tirei o erro e agora tenho passado que está verde.

197
00:17:34,390 --> 00:17:39,010
Beleza agora vamos fazer o seguinte vamos criar mais um caso de teste que eu vou dar um contra um ser

198
00:17:39,010 --> 00:17:40,390
esse cara.

199
00:17:40,600 --> 00:17:47,190
Vou pôr lá embaixo e agora vou botar deve sei lá deve retornar.

200
00:17:47,200 --> 00:18:01,120
Vou pagar tudo que deve retornar o produto por aí de sei lá quando eu passar o produto por aí eu quero

201
00:18:01,120 --> 00:18:03,250
que ele me retorne.

202
00:18:03,250 --> 00:18:06,760
Bom então o que eu vou fazer o retornar produto por aí dia.

203
00:18:06,790 --> 00:18:14,930
Vamos dar uma olhada e ele me devolve um opcional de produto e devolve um opt out de produto.

204
00:18:14,930 --> 00:18:17,320
Então eu vou ter que testar isso aqui.

205
00:18:17,600 --> 00:18:22,600
Então a primeira coisa a preparação eu vou precisar de uma opção de produto então vou querer que um

206
00:18:22,600 --> 00:18:23,290
opcional.

207
00:18:25,370 --> 00:18:28,750
De produto que é o que eu vou esperar receber a.

208
00:18:30,430 --> 00:18:39,040
Um óptimo produto que eu vou chamar de produto que recebe um mil opte não.

209
00:18:41,520 --> 00:18:43,110
Um óptimo ponto off.

210
00:18:45,930 --> 00:18:55,560
Dique de um navio na verdade eu vou fazer o seguinte vou querer eu vou criar o produto primeiro então

211
00:18:55,560 --> 00:18:59,130
vou criar um produto criar um produto.

212
00:18:59,130 --> 00:19:04,260
Vamos criar um produto que recebe um milk produto.

213
00:19:06,700 --> 00:19:08,590
é aí que eu vou fazer produto.

214
00:19:08,610 --> 00:19:10,220
Ponto 7.

215
00:19:10,260 --> 00:19:12,180
A Edival passam a dizer pra ele sei lá.

216
00:19:12,190 --> 00:19:23,990
Aí de dois vão botar um nome desse produto aqui o produto foto sete nome o nome.

217
00:19:24,090 --> 00:19:28,590
Vou botar aqui martelo botar mais um aqui.

218
00:19:29,340 --> 00:19:30,800
O 7 dia com.

219
00:19:33,920 --> 00:19:35,170
Produto contra uma.

220
00:19:40,250 --> 00:19:49,460
O dia a dia da beleza produto como botar quantidade que também é produto ponto 7 quantidade como dizer

221
00:19:49,460 --> 00:19:52,510
que é 10 por exemplo.

222
00:19:52,590 --> 00:19:54,480
E aí o que eu vou fazer aqui.

223
00:19:54,530 --> 00:19:59,810
Eu vou criar VOU CHAMAR ISSO AQUI DE OBTER produto.

224
00:20:01,670 --> 00:20:07,810
Para saber que um óptimo produto beleza é aquilo que eu vou fazer eu vou.

225
00:20:07,970 --> 00:20:17,270
Antes de eu fazer isso aqui vou importar esse é todo mundo que a espera recebe um long 2.0 e um long

226
00:20:17,990 --> 00:20:19,480
option por dia óptimo.

227
00:20:19,530 --> 00:20:19,790
Já.

228
00:20:20,860 --> 00:20:22,060
Então eu vou criar um.

229
00:20:25,060 --> 00:20:28,370
Opcional ponto bofe.

230
00:20:28,390 --> 00:20:32,920
Vou criar uma opinião de quem desse produto que eu acabei de criar.

231
00:20:33,460 --> 00:20:36,120
Criei o produto e estou criando um opt não dele.

232
00:20:36,160 --> 00:20:38,980
Ou seja isso é o que eu vou esperar receber.

233
00:20:38,980 --> 00:20:41,310
Então eu estou já criando que na preparação lembra.

234
00:20:41,560 --> 00:20:44,490
Lembra que a preparação de todo o tempo que a gente precisa.

235
00:20:44,710 --> 00:20:50,600
Beleza que é o que eu vou fazer o meu reconhece para obter por aí dia.

236
00:20:50,770 --> 00:20:55,590
Vai ser como o que vai ser meu como tem por aí.

237
00:20:55,780 --> 00:21:03,310
é simplesmente vir aqui e botar a barra um hit qualquer sei lá vou botar dois quando botar é de dois.

238
00:21:03,340 --> 00:21:07,540
Eu quero que ele me retorne com esse produto que o show.

239
00:21:09,630 --> 00:21:12,080
E aí o meu controle.

240
00:21:12,090 --> 00:21:14,200
Olha só o meu controle de obter por aí.

241
00:21:14,400 --> 00:21:17,580
Ele simplesmente tá indo no meu serviço.

242
00:21:17,580 --> 00:21:20,520
Ou seja tem que buscar esse cara que também não vai erro.

243
00:21:20,640 --> 00:21:21,720
Então vou buscar.

244
00:21:21,780 --> 00:21:33,570
Então quando alguém pedir aqui obter todos eles na verdade não obter todos vai se obter por aí e passar

245
00:21:34,140 --> 00:21:42,510
um valor sei lá vou dizer que passar 2 2L exemplo obter por aí passando dois L.

246
00:21:42,600 --> 00:21:52,790
Quando alguém fizer isso aqui passa exatamente isso daqui eu quero retornar exatamente esse PT produto.

247
00:21:54,420 --> 00:21:55,920
é isso que eu quero que faça.

248
00:21:55,920 --> 00:21:56,940
Quando alguém passar.

249
00:21:58,070 --> 00:22:00,370
Dois deles eu quero retornar isso daqui.

250
00:22:00,740 --> 00:22:07,260
Show que é o que eu estou passando aqui há dois e o que eu estou dizendo que vai chegar aqui beleza.

251
00:22:07,310 --> 00:22:11,730
Então quando alguém passar eu estou morando aqui passando no 2 SHOW DE BOLA.

252
00:22:11,730 --> 00:22:20,930
Então quando alguém pedir para obter produtos passando eu quero retornar exatamente esse cara aqui e

253
00:22:20,960 --> 00:22:31,000
aí aqui quando eu fizer o retorno eu quero comparar se no caso obter por aí diz ele retornou ok também.

254
00:22:31,340 --> 00:22:33,020
Ele retornou aqui também.

255
00:22:33,030 --> 00:22:35,900
Então eu vou comparar se o IDH do produto está certo.

256
00:22:35,900 --> 00:22:46,340
Vou pegar outra coisa aqui no meter no Met eu vou pegar isso sai PF de a PF é o seguinte no que tá vindo

257
00:22:46,340 --> 00:22:49,370
do juizão eu posso pegar algumas coisas.

258
00:22:49,400 --> 00:22:56,540
Então o que eu quero pegar aqui eu posso escrever uma sintaxe assim o cifrão ponto a id significa o

259
00:22:56,540 --> 00:23:01,360
seguinte eu quero pegar o que tiver no atributo aí de decidir isso.

260
00:23:01,680 --> 00:23:09,620
Então o que tiver um atributo a de decidir onde eu quero pegar o quê o velho e eu quero comparar esse

261
00:23:09,620 --> 00:23:21,410
Velo aqui com dois que é exatamente o ideal que a gente deu aqui beleza 2L que é o IDH que a gente deu

262
00:23:21,410 --> 00:23:23,040
aqui.

263
00:23:23,240 --> 00:23:27,170
Se funcionar aí a gente testa pra gente comparar negando.

264
00:23:27,190 --> 00:23:30,680
Então vamos lá vamos testar aqui o bem em ter.

265
00:23:37,220 --> 00:23:42,560
A funcionar passou a verde.

266
00:23:42,560 --> 00:23:46,500
Vou vir aqui vou botar um um L.

267
00:23:46,670 --> 00:23:48,160
Salvei.

268
00:23:48,170 --> 00:23:55,700
Eu estou dizendo que o retorno tem que ter ideia do produto igual a um longo e ele é longo e tem que

269
00:23:55,700 --> 00:23:58,730
falhar.

270
00:23:59,600 --> 00:24:05,720
Falhou porque eu esperava um e veio dois falhou.

271
00:24:05,750 --> 00:24:12,030
Ou seja dentro do retorno eu esperava um mas estava há dois lá dentro.

272
00:24:12,080 --> 00:24:14,030
Beleza então está funcionando.

273
00:24:14,030 --> 00:24:15,580
O que eu fiz aqui.

274
00:24:15,860 --> 00:24:24,590
Criei um produto qualquer transformando em num ótimo criei a requisição é o que o meu serve disse o

275
00:24:24,590 --> 00:24:32,250
seguinte quando alguém pediu por aí dia passando e D2 você vai devolver esse cara que você vai devolver

276
00:24:32,270 --> 00:24:34,540
esse cara e aí agora.

277
00:24:34,610 --> 00:24:43,970
Olha só eu testei para ver se o retorno do meu do meu resultado viria exatamente o que eu disse que

278
00:24:43,970 --> 00:24:47,490
tinha que ver com a ideia do que é o produto que eu criei aqui.

279
00:24:48,410 --> 00:24:50,310
E ele realmente está funcionando.

280
00:24:50,390 --> 00:25:01,780
Beleza então a gente consegue ir testando também outros métodos da ação confirmação e preparação.

281
00:25:01,910 --> 00:25:06,470
Vamos agora tentar fazer eu vou mandar rodar esse cara aqui de novo.

282
00:25:06,470 --> 00:25:12,280
Só que agora com certo ele tem que passar além desse cara aqui eu vou fazer o seguinte.

283
00:25:12,350 --> 00:25:22,190
Além desse cara aqui deixa eu pensar que vamos tentar pegar o nome sei lá eu quero pegar.

284
00:25:24,410 --> 00:25:31,580
Eu quero pegar quem eu quero pegar o nome então aqui eu vou botar na m.

285
00:25:31,700 --> 00:25:33,600
Na verdade é nome né.

286
00:25:33,600 --> 00:25:36,470
Quero pegar o nome e o nome.

287
00:25:36,470 --> 00:25:42,650
Eu quero saber se o nome que está lá dentro é furadeira tem que falhar porque o nome que vai vim tem

288
00:25:42,650 --> 00:25:45,090
que ser martelo um.

289
00:25:45,320 --> 00:25:46,100
Vamos mandar.

290
00:25:48,610 --> 00:25:49,180
Executar.

291
00:25:51,380 --> 00:25:56,750
Só para ver que a gente espera por outras propriedades de um país onde não la.

292
00:25:57,110 --> 00:26:01,600
Eu esperava furadeira mas o atual o que veio foi o martelo.

293
00:26:01,640 --> 00:26:08,750
Se eu vier aqui agora e botar assim o martelo ele tem que passar.

294
00:26:18,530 --> 00:26:22,350
Passou mas como o método é retornar produto por aí.

295
00:26:22,670 --> 00:26:32,750
Aqui eu vou esperar sempre com a id e vou botar aqui se no caso o ID que eu espero 2 vou rodar ele tem

296
00:26:32,750 --> 00:26:33,530
que passar de novo.

297
00:26:37,050 --> 00:26:43,000
E com isso eu consigo testar se o retorno de um controle está funcionando corretamente mesmo quando

298
00:26:43,000 --> 00:26:46,260
o meu serviço eu consigo testar se o controle funciona.

299
00:26:46,290 --> 00:26:49,610
Eu estou testando de forma unitária o meu controle.

300
00:26:49,620 --> 00:26:55,170
Eu não estou fazendo um teste de integração de ponta a ponta testando se o controle realmente está conseguindo

301
00:26:55,520 --> 00:27:05,020
ir lá dentro do que você está conseguindo ir lá dentro do Dudu serve.

302
00:27:05,220 --> 00:27:10,160
Você está conseguindo ir lá dentro do repositor está realmente me comunica com o banco de dados não

303
00:27:10,160 --> 00:27:14,220
não estou deixando mesmo deixando de forma unitária o meu controle garantindo que meu controle está

304
00:27:14,220 --> 00:27:15,330
funcionando.

305
00:27:15,450 --> 00:27:19,470
Beleza então testei aqui o retorno retornar produto por aí de.

306
00:27:22,620 --> 00:27:29,850
Vou pegar esse cara aqui vou copiar ele vou colar embaixo.

307
00:27:30,090 --> 00:27:34,650
Vamos testar agora adicionar o adicionar galera.

308
00:27:34,680 --> 00:27:36,870
Ele vai ser um pouquinho diferente.

309
00:27:36,870 --> 00:27:42,550
Por que o adicionar ele vai depender de outras coisas estão lá deve.

310
00:27:43,380 --> 00:27:44,010
Deve.

311
00:27:45,920 --> 00:27:52,460
Adicionar o produto à seleção nome do nosso método.

312
00:27:52,620 --> 00:27:54,090
Mas se esse produto aqui mesmo.

313
00:27:54,140 --> 00:28:02,210
2 aproveitar como o controle de adicionar não devolve opte não então eu posso vir aqui arrancar esse

314
00:28:02,210 --> 00:28:03,620
shopping que não serve pra nada.

315
00:28:06,150 --> 00:28:14,490
O adicionar ou adicionar é um pouquinho diferente porque esse mote aqui não passa ao RL e aqui a quinta

316
00:28:14,510 --> 00:28:22,520
edição Get olha só é um pouco este já mudou para Pulse.

317
00:28:23,730 --> 00:28:30,540
Só que o seguinte Olha só ele é um post só que não é um post qualquer.

318
00:28:30,540 --> 00:28:36,690
Quando eu vou enviar um GET ou simplesmente enviar um Get acabou que eu vou abrir some aqui pra gente

319
00:28:36,690 --> 00:28:38,170
poder entender.

320
00:28:38,490 --> 00:28:44,430
Vou pegar qualquer requisição que eu tenho aqui só para vocês poderem entender como é que funciona.

321
00:28:44,460 --> 00:28:50,880
Porque o GET ou simplesmente pegou o RL mandou enviar e pronto eu vou pegar um exemplo aqui de pouco

322
00:28:51,170 --> 00:28:52,460
teste poxa.

323
00:28:52,740 --> 00:28:56,080
Olha só o post não é só uma URL.

324
00:28:56,340 --> 00:29:01,560
Eu tenho que dizer qual é o corpo e o que eu estou enviando no corpo da requisição.

325
00:29:01,560 --> 00:29:06,980
Olha só eu tenho que dizer é outra coisa eu tenho que dizer qual é o Content type.

326
00:29:06,990 --> 00:29:09,240
Qual o tipo de conteúdo que eu estou enviando.

327
00:29:09,600 --> 00:29:13,970
Quando a gente bota aí que a divisão aqui automaticamente ele adiciona que no Rider.

328
00:29:13,980 --> 00:29:18,390
Qual é o ponto em que está com o conteúdo que está sendo enviado e o conteúdo que está sendo enviado

329
00:29:18,390 --> 00:29:22,220
e um Application Shazam uma aplicação Shazam.

330
00:29:22,230 --> 00:29:28,620
Então esses dados que eu tenho que saber enviar também estão aqui agora antes do ponto e vírgula eu

331
00:29:28,620 --> 00:29:32,470
vou botar seu ponto e vou fazer isso aqui.

332
00:29:32,490 --> 00:29:39,150
Vou enviar um Content que eu vou dizer que é um Jason aqui eu vou escrever jazz aqui dentro por enquanto

333
00:29:39,150 --> 00:29:44,710
vai ser uma string qualquer e vou enviar também um Content.

334
00:29:44,850 --> 00:29:46,720
Vou pular para a linha de baixo para ficar fácil.

335
00:29:46,730 --> 00:29:56,670
Não contente da Hype que vai receber um cara chamado media type que é um menos um ponto e eu digo qual

336
00:29:56,670 --> 00:29:59,000
é o tipo de conteúdo que eu estou enviando.

337
00:29:59,010 --> 00:30:01,570
Eu vou enviar um Application Gems.

338
00:30:01,590 --> 00:30:05,070
Olha só a mesma coisa que o Insomniac faz.

339
00:30:06,360 --> 00:30:12,650
Ele envia não contente tipo Application Jason está e ele vai enviar um som.

340
00:30:12,750 --> 00:30:14,050
Estou fazendo a mesma coisa.

341
00:30:14,070 --> 00:30:19,170
Olha só estou enviando um Application e aqui eu tenho que dizer que isso que eu diz ou o que eu vou

342
00:30:19,170 --> 00:30:19,950
enviar.

343
00:30:20,010 --> 00:30:21,960
Beleza e como é que eu crio um dia.

344
00:30:22,140 --> 00:30:24,580
A maneira fácil de criar um tesão é assim.

345
00:30:24,690 --> 00:30:26,580
Olha só eu posso fazer isso aqui.

346
00:30:26,730 --> 00:30:34,620
Posso ter uma string que eu posso chamar ela de dia e som que ela pode receber o seguinte ela só existe

347
00:30:34,620 --> 00:30:41,100
um cara um objeto chamado Object MAP.

348
00:30:41,490 --> 00:30:42,680
O objectivo.

349
00:30:42,780 --> 00:30:49,670
Ele é um objeto que sabe fazer mapeamento e converter esse mapeamento em alguma coisa.

350
00:30:49,830 --> 00:30:53,170
Ele consegue escrever esse mapeamento em alguma coisa.

351
00:30:53,220 --> 00:31:02,790
Então olha só eu quero que ele escreva o primeiro método dele e escreva o valor como uma string.

352
00:31:02,850 --> 00:31:10,410
Eu quero que ele pegue alguma coisa que eu vou colocar aqui e escreva como string de ou não estrague

353
00:31:10,740 --> 00:31:16,650
exatamente o que eu preciso ou quero que ele pegue o meu produto e transforme numa string.

354
00:31:17,190 --> 00:31:23,880
Com isso daqui eu estou pegando esse produto e estou transformando num objeto de som.

355
00:31:23,910 --> 00:31:31,560
Olha que legal eu estou pegando esse produto e estou transformando num objeto de som e aí com isso.

356
00:31:31,560 --> 00:31:37,700
Com isso ele vai pegar e transformar no Jason igualzinho isso daqui.

357
00:31:37,950 --> 00:31:43,800
A única diferença é que no meu caso ele vai ter o ID porque aqui esse cara que eu botei a ID mas se

358
00:31:43,800 --> 00:31:50,960
eu não passar de comentar por exemplo não botar no cadastro não tem a id ele vai criar igualzinho.

359
00:31:51,090 --> 00:31:51,950
Aí está que o.

360
00:31:52,050 --> 00:31:52,950
Aí este.

361
00:31:53,190 --> 00:31:57,570
Eu passo aqui e aqui eu estou montando a requisição.

362
00:31:57,570 --> 00:32:07,320
Então vamos lá o documental criando o produto que será adicionado.

363
00:32:12,490 --> 00:32:27,970
Convertendo o produto em um som certo criando a requisição do tipo post-it.

364
00:32:29,770 --> 00:32:30,250
Beleza.

365
00:32:34,810 --> 00:32:42,490
Show tão pouco se passou no dia Ison e estou dizendo que o que está a pedir é perfeito.

366
00:32:42,520 --> 00:32:43,890
Criei essa lógica aqui.

367
00:32:43,930 --> 00:32:47,550
O que eu vou fazer vou fazer a ação.

368
00:32:47,600 --> 00:32:48,470
Ação essa.

369
00:32:48,550 --> 00:32:54,830
Só que o seguinte o meu controle ele também tem o serviço.

370
00:32:54,850 --> 00:32:57,880
Então ele tem que saber buscar também o serviço.

371
00:32:58,000 --> 00:33:00,090
Ele tem que também saber buscar o serviço.

372
00:33:00,730 --> 00:33:02,200
Ele tem que saber o local certo.

373
00:33:02,570 --> 00:33:05,710
O que eu vou fazer eu vou.

374
00:33:05,830 --> 00:33:09,360
Depois de fazer isso aqui eu vou colocar esse produto aqui.

375
00:33:09,400 --> 00:33:15,050
Então antes disso eu vou pegar o meu produto vou adicionar um e nele para dizer que ele foi adicionado.

376
00:33:15,070 --> 00:33:17,800
Então vou pegar produto ponto.

377
00:33:19,540 --> 00:33:25,660
7 a idia porque antes eu não pude colocar porque o dia a gente não envia a idia que agora eu vou dizer

378
00:33:25,660 --> 00:33:31,770
que o Haiti dele será um um l para um long e um L.

379
00:33:31,870 --> 00:33:41,680
E aí eu vou botar quem esse produto ou seja quando eu chamar um Porsche passando esse Jason aqui que

380
00:33:41,680 --> 00:33:44,980
foi o produto transformado em sai.

381
00:33:45,310 --> 00:33:48,000
Esse obter por aí não vai ser obter por aí.

382
00:33:48,300 --> 00:33:49,850
Aí aqui seria o quê.

383
00:33:50,050 --> 00:33:55,510
Aqui seria deixa eu pensar e o adicionar adicionar.

384
00:33:57,760 --> 00:34:05,590
Adicionar a adicionar adicionar adicionar o condado onde a gente nem precisa ou precisa.

385
00:34:06,650 --> 00:34:07,340
Deixa eu pensar.

386
00:34:09,810 --> 00:34:15,330
Vou chamado vai ter que ser adicionar adicionar quando o chamar passando.

387
00:34:18,070 --> 00:34:20,520
Pera aí.

388
00:34:20,990 --> 00:34:28,280
Verdade eu não posso fazer isso é só pensar aqui e vou fazer o seguinte Quando eu passar esse cara aqui.

389
00:34:28,280 --> 00:34:33,800
Olha só quando eu passar a escada aqui quando eu passar o produto eu quero que ele me retorne o mesmo

390
00:34:33,800 --> 00:34:35,700
produto só para boca.

391
00:34:35,720 --> 00:34:42,180
A gente está buscando mas não quero que ele me retorne um produto com quem me deu beleza.

392
00:34:42,240 --> 00:34:54,760
Olha só olha quanta coisa adicionando adicionando ou ideal ao produto que iremos retornar.

393
00:34:54,920 --> 00:35:01,310
Então com isso a gente já está adicionando o ideal ao produto que iremos retornar Bocão do produto executou

394
00:35:01,310 --> 00:35:02,080
a ação.

395
00:35:02,180 --> 00:35:03,550
E aí aqui embaixo.

396
00:35:03,620 --> 00:35:10,790
Olha só o adicionar galera ele é o método que geralmente o que a gente espera a gente espera que ele

397
00:35:10,790 --> 00:35:11,450
faça isso daqui.

398
00:35:15,000 --> 00:35:17,720
Status ponto o que é isso.

399
00:35:19,720 --> 00:35:23,140
Created status de criado com sucesso.

400
00:35:23,140 --> 00:35:24,520
é isso que a gente espera.

401
00:35:24,520 --> 00:35:28,490
Se ele retornar 201 significa que foi criado com sucesso Show.

402
00:35:28,570 --> 00:35:30,490
Então vou rodar aqui vamos ver o que vai acontecer.

403
00:35:42,340 --> 00:35:44,710
Eu esperava 201 mas fui a 200.

404
00:35:44,710 --> 00:35:51,490
Por que como meu controle não está me retornando 201 mil tinha um erro no meu controle.

405
00:35:51,490 --> 00:36:00,890
Então aqui tem que vir aqui mudar isso a verdade é botar cliente de ponto ente cliente.

406
00:36:00,970 --> 00:36:03,190
Então agora tem que passar quando eu rodar o teste.

407
00:36:05,410 --> 00:36:08,920
Ele esperava 201 mas vi 200 agora quando rodagem tem que passar o teste.

408
00:36:18,480 --> 00:36:20,130
Vamos ver passo.
